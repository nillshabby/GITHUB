package com.example.opentest

import android.os.Bundle
import android.widget.Button
import android.widget.TextView
import androidx.activity.enableEdgeToEdge
import androidx.appcompat.app.AppCompatActivity
import androidx.core.view.ViewCompat
import androidx.core.view.WindowInsetsCompat

class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        enableEdgeToEdge()
        setContentView(R.layout.activity_main)
        var txt=findViewById<TextView>(R.id.txtResultId)

        var btn1 = findViewById<Button>(R.id.btnNum1Id)
        btn1.setOnClickListener {
            txt.append("1")
        }

        var btn2 = findViewById<Button>(R.id.btnNum2Id)
        btn2.setOnClickListener {
            txt.append("2")
        }
        var btn3 = findViewById<Button>(R.id.btnNum3Id)
        btn3.setOnClickListener {
            txt.append("3")
        }
        var btn4 = findViewById<Button>(R.id.btnNum4Id)
        btn4.setOnClickListener {
            txt.append("4")

        }
            var btn5 = findViewById<Button>(R.id.btnNum5Id)
            btn5.setOnClickListener {
                txt.append("5")
            }
            var btn6 = findViewById<Button>(R.id.btnNum6Id)
            btn6.setOnClickListener {
                txt.append("6")
            }
            var btn7 = findViewById<Button>(R.id.btnNum7Id)
            btn7.setOnClickListener {
                txt.append("7")
            }
            var btn8 = findViewById<Button>(R.id.btnNum8Id)
            btn8.setOnClickListener {
                txt.append("8")
            }
            var btn9 = findViewById<Button>(R.id.btnNum9Id)
            btn9.setOnClickListener {
                txt.append("9")
            }
            var btn0 = findViewById<Button>(R.id.btnNum0Id)
            btn0.setOnClickListener {
                txt.append("0")
            }
            var clear = findViewById<Button>(R.id.btnClearId)
            clear.setOnClickListener {
                txt.text = ""
            }
            var add = findViewById<Button>(R.id.btnAddId)
            add.setOnClickListener {
                txt.append(" + ")
            }
            var sub = findViewById<Button>(R.id.btnSubId)
            sub.setOnClickListener {
                txt.append(" - ")
            }
            var mul = findViewById<Button>(R.id.btnMulId)
            mul.setOnClickListener {
                txt.append(" * ")
            }
            var div = findViewById<Button>(R.id.btnDivId)
            div.setOnClickListener {
                txt.append(" / ")
            }
            var equal = findViewById<Button>(R.id.btnEqualId)
            equal.setOnClickListener {
                txt.text = result(txt.text.toString()).toString()
            }



        }



    }

fun result(data: String): Double {
    var myData = data.split(" ")
    var myans = myData[0].toDouble()
    var num = 0
    for (i in myData) {
        if (i == "+") {
            myans += myData[num + 1].toDouble()
        }
        if (i == "-") {
            myans -= myData[num + 1].toDouble()
        }
        if (i == "*") {
            myans *= myData[num + 1].toDouble()
        }
        if (i == "/") {
            myans /= myData[num + 1].toDouble()
        }

        num++
    }

    return myans
}